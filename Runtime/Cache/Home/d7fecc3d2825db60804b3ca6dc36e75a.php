<?php if (!defined('THINK_PATH')) exit();?><!DOCTYPE html>
<html lang="en-US" class="js">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script>
            (function(html) { html.className = html.className.replace(/\bno-js\b/, 'js') })(document.documentElement);
        </script>
        <title><?php echo ($title); ?></title>
        <script type="text/javascript">
            window.ga = window.ga || function() {
                    (ga.q = ga.q || []).push(arguments)
                };
            ga.l = +new Date;
            ga('create', 'UA-39175293-1', 'auto');
            ga('send', 'pageview');
        </script>
        <script async="" src="/Application/Home/Static/js/analytics.js"></script>
        <script type="text/javascript">
            window._wpemojiSettings = { "baseUrl": "https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/", "ext": ".png", "svgUrl": "https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/", "svgExt": ".svg", "source": { "concatemoji": "https:\/\/zhimingji.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.2" } };
            ! function(a, b, c) {
                function d(a, b) {
                    var c = String.fromCharCode;
                    l.clearRect(0, 0, k.width, k.height), l.fillText(c.apply(this, a), 0, 0);
                    var d = k.toDataURL();
                    l.clearRect(0, 0, k.width, k.height), l.fillText(c.apply(this, b), 0, 0);
                    var e = k.toDataURL();
                    return d === e
                }
                function e(a) {
                    var b;
                    if(!l || !l.fillText) return !1;
                    switch(l.textBaseline = "top", l.font = "600 32px Arial", a) {
                        case "flag":
                            return !(b = d([55356, 56826, 55356, 56819], [55356, 56826, 8203, 55356, 56819])) && (b = d([55356, 57332, 56128, 56423, 56128, 56418, 56128, 56421, 56128, 56430, 56128, 56423, 56128, 56447], [55356, 57332, 8203, 56128, 56423, 8203, 56128, 56418, 8203, 56128, 56421, 8203, 56128, 56430, 8203, 56128, 56423, 8203, 56128, 56447]), !b);
                        case "emoji":
                            return b = d([55358, 56794, 8205, 9794, 65039], [55358, 56794, 8203, 9794, 65039]), !b
                    }
                    return !1
                }

                function f(a) {
                    var c = b.createElement("script");
                    c.src = a, c.defer = c.type = "text/javascript", b.getElementsByTagName("head")[0].appendChild(c)
                }
                var g, h, i, j, k = b.createElement("canvas"),
                    l = k.getContext && k.getContext("2d");
                for(j = Array("flag", "emoji"), c.supports = { everything: !0, everythingExceptFlag: !0 }, i = 0; i < j.length; i++) c.supports[j[i]] = e(j[i]), c.supports.everything = c.supports.everything && c.supports[j[i]], "flag" !== j[i] && (c.supports.everythingExceptFlag = c.supports.everythingExceptFlag && c.supports[j[i]]);
                c.supports.everythingExceptFlag = c.supports.everythingExceptFlag && !c.supports.flag, c.DOMReady = !1, c.readyCallback = function() { c.DOMReady = !0 }, c.supports.everything || (h = function() { c.readyCallback() }, b.addEventListener ? (b.addEventListener("DOMContentLoaded", h, !1), a.addEventListener("load", h, !1)) : (a.attachEvent("onload", h), b.attachEvent("onreadystatechange", function() { "complete" === b.readyState && c.readyCallback() })), g = c.source || {}, g.concatemoji ? f(g.concatemoji) : g.wpemoji && g.twemoji && (f(g.twemoji), f(g.wpemoji)))
            }(window, document, window._wpemojiSettings);
        </script>
        <script src="/Application/Home/Static/js/wp-emoji-release.min.js" type="text/javascript" defer=""></script>
        <style type="text/css">
            img.wp-smiley,
            img.emoji {
                display: inline !important;
                border: none !important;
                box-shadow: none !important;
                height: 1em !important;
                width: 1em !important;
                margin: 0 .07em !important;
                vertical-align: -0.1em !important;
                background: none !important;
                padding: 0 !important;
            }
        </style>
        <link rel="stylesheet" id="wp-syntax-css-css" href="/Application/Home/Static/css/wp-syntax.css" type="text/css" media="all">

        <link rel="stylesheet" id="genericons-css" href="/Application/Home/Static/css/genericons.css" type="text/css" media="all">
        <link rel="stylesheet" id="twentysixteen-style-css" href="/Application/Home/Static/css/style.css" type="text/css" media="all">
        <!--[if lt IE 10]>
        <link rel='stylesheet' id='twentysixteen-ie-css'  href='/Application/Home/Static/css/ie.css?ver=20160816' type='text/css' media='all' />
        <![endif]-->
        <!--[if lt IE 9]>
        <link rel='stylesheet' id='twentysixteen-ie8-css'  href='/Application/Home/Static/css/ie8.css?ver=20160816' type='text/css' media='all' />
        <![endif]-->
        <!--[if lt IE 8]>
        <link rel='stylesheet' id='twentysixteen-ie7-css'  href='/Application/Home/Static/css/ie7.css?ver=20160816' type='text/css' media='all' />
        <![endif]-->
        <script type="text/javascript" src="/Application/Home/Static/js/jquery.js"></script>
        <script type="text/javascript" src="/Application/Home/Static/js/jquery-migrate.min.js"></script>
        <!--[if lt IE 9]>
        <script type='text/javascript' src='/Application/Home/Static/js/html5.js?ver=3.7.3'></script>
        <![endif]-->
        <style type="text/css">
            .broken_link,
            a.broken_link {
                text-decoration: line-through;
            }
        </style>
    </head>
<body class="home blog hfeed">
<link rel="stylesheet" type="text/css" href="/Application/Home/Static/css/log.css">
<script type="text/javascript" href="/Application/Home/Static/js/jquery.js"></script>
<div id="page" class="site">
    <div class="site-inner">
        <a class="skip-link screen-reader-text" href="JavaScript:void(0)">Skip to content</a>
        <header id="masthead" class="site-header" role="banner">
            <div class="site-header-main">
                <div class="site-branding">
                    <h1 class="site-title"><a href="/" rel="home">Mr.L's Blog</a></h1>
                </div>
            </div>
        </header>
        <div id="content" class="site-content">
            <div id="primary" class="content-area">
                <main id="main" class="site-main" role="main">
                    <header class="page-header">
                        <h2 class="page-title">Log</h2>
                    </header>
                    <div class="body_container">
                        <div class="pure-g" id="layout">
                            <div class="pure-u-1 pure-u-md-3-4">
                                <div class="content_container">
                                    <div class="post">
                                        <div class="post-content">
                                            <section id="process">
                                                <div class="container">
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-12 col-md-8 col-md-offset-2">
                                                            <div class="timeline-centered" id="logcontent">
                                                                <div class="line"></div>
                                                                <div class="present">Now</div>
                                                                <div class="dot_tp"></div>
                                                                <a href="JavaScript:void(0)" class="born" id="loadMore">Load More</a>
                                                                <div class="dot_bt"></div>
                                                                <?php if(is_array($data)): $index = 0; $__LIST__ = $data;if( count($__LIST__)==0 ) : echo "" ;else: foreach($__LIST__ as $key=>$item): $mod = ($index % 2 );++$index;?><div class="timeline-entry">
                                                                        <div class="timeline-entry-inner">
                                                                            <div class="timeline-icon wow fadeInUp"><span class="number"><?php echo ($index); ?></span></div>
                                                                            <div class="timeline-label wow fadeInUp">
                                                                                     <?php echo ($item["add_time"]); echo html_entity_decode($item["content"]);?>
                                                                            </div>
                                                                        </div>
                                                                    </div><?php endforeach; endif; else: echo "" ;endif; ?>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
            <aside id="secondary" class="sidebar widget-area" role="complementary">
                <section id="archives-<?php echo ($first["id"]); ?>" class="widget widget_archive">
                    <h2 class="widget-title"><a href="/">Home</a></h2>
                </section>
            </aside>
        </div>
        <footer id="colophon" class="site-footer" role="contentinfo">

    <div class="site-info">
        <span class="site-title"><a href="/" rel="home">Mr.L's Blog</a></span>
        <a href="JavaScript:void(0)">I have a bottom line</a>
    </div>
    <!-- .site-info -->
</footer>
    </div>
</div>
<script type="text/javascript" src="/Application/Home/Static/js/wp-syntax.js"></script>
<script type="text/javascript" src="/Application/Home/Static/js/skip-link-focus-fix.js"></script>
<script type="text/javascript">
    /* <![CDATA[ */
    var screenReaderText = { "expand": "expand child menu", "collapse": "collapse child menu" };
    /* ]]> */
</script>
<script type="text/javascript" src="/Application/Home/Static/js/functions.js"></script>
<script type="text/javascript" src="/Application/Home/Static/js/wp-embed.min.js"></script>

<!-- Dynamic page generated in 0.625 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2018-01-23 10:34:25 -->

<!-- super cache -->
<script type="text/javascript">
    var page = 1;
    var nextStatus = true;
    var index = <?php echo ($count); ?>;
    var rootdata = "<?php echo ($rootdata); ?>";
    var ajaxSataus = true;
    window.onload = function(){
        jQuery("#loadMore").click(function () {
            if(ajaxSataus&&nextStatus){
                jQuery.ajax({
                    "url":"/index.php/Log/getNextLog",
                    "type":"post",
                    "data":{"page":page,"p":rootdata},
                    "async":true,
                    "beforeSend":function(){
                        ajaxSataus = false;
                    },
                    "success":function(ret){
                        var data = ret.data ;
                        var ret = ret.ret;
                        if(ret==1){
                           for(var item in data){
                               var thisdata = data[item];
                               var html = jQuery.parseHTML();
                               index++;
                               jQuery("#logcontent").append("<div class='timeline-entry' id='log"+thisdata.logid+"'></div>");
                               var html = "<div class='timeline-entry-inner'>"+
                                   "<div class='timeline-icon wow fadeInUp'><span class='number'>"+index+"</span></div>"+
                                   "<div class='timeline-label wow fadeInUp'>"+
                                   thisdata.add_time+thisdata.content+
                                   "</div></div>";
                               jQuery("#log"+thisdata.logid).html(html);
                           }
                            page++;
                        }else{
                            nextStatus = false;
                            jQuery("#loadMore").text("End");
                        }
                    },
                    "error":function(ret){
                       alert("网络连接错误,请确认网络连接是否正常");
                    },
                    "complete":function(){
                        ajaxSataus = true;
                    }
                })
            }
        })
    }

</script>
</body>